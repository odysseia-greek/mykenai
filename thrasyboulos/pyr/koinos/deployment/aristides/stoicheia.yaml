# thrasyboulos/pyr/koinos/stoicheia/aristophanes.yaml
- op: add
  path: /spec/template/spec/containers/-
  value:
      name: "aristides"
      image: ghcr.io/odysseia-greek/aristides:v0.0.1
      env:
        - name: VAULT_SERVICE
          value: https://vault.delphi.svc:8200
        - name: VAULT_TLS
          value:  "true"
        - name: SOLON_SERVICE
          value: https://solon.delphi.svc:5443
        - name: POD_NAME
          valueFrom:
            fieldRef:
              fieldPath: metadata.name
      envFrom:
        - configMapRef:
            name: euripides
      ports:
        - containerPort: 50051
      volumeMounts:
        - name: vault-server-tls
          mountPath: /app/config/vault
          readOnly: true
        - name: solon-certs
          mountPath: /app/config/solon
          readOnly: true
      imagePullPolicy: Always
      resources:
        requests:
          memory: 32Mi
        limits:
          memory: 64Mi